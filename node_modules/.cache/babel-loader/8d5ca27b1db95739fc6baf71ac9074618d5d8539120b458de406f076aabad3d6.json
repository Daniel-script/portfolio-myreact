{"ast":null,"code":"import _objectWithoutProperties from \"C:/Users/ferre/OneDrive/Escritorio/portfolio-react/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"onTap\", \"onTapStart\", \"onTapCancel\", \"whileTap\", \"visualElement\"];\nimport { useRef, useCallback } from 'react';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { addPointerEvent, usePointerEvent } from '../events/use-pointer-event.mjs';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.mjs';\nimport { AnimationType } from '../render/utils/types.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { pipe } from '../utils/pipe.mjs';\n\n/**\n * @param handlers -\n * @internal\n */\nfunction useTapGesture(_ref) {\n  var onTap = _ref.onTap,\n    onTapStart = _ref.onTapStart,\n    onTapCancel = _ref.onTapCancel,\n    whileTap = _ref.whileTap,\n    visualElement = _ref.visualElement,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n  var isPressing = useRef(false);\n  var cancelPointerEndListeners = useRef(null);\n  /**\n   * Only set listener to passive if there are no external listeners.\n   */\n  var eventOptions = {\n    passive: !(onTapStart || onTap || onTapCancel || props[\"onPointerDown\"])\n  };\n  function removePointerEndListener() {\n    cancelPointerEndListeners.current && cancelPointerEndListeners.current();\n    cancelPointerEndListeners.current = null;\n  }\n  function checkPointerEnd() {\n    removePointerEndListener();\n    isPressing.current = false;\n    var latestProps = visualElement.getProps();\n    if (latestProps.whileTap && visualElement.animationState) {\n      visualElement.animationState.setActive(AnimationType.Tap, false);\n    }\n    return !isDragActive();\n  }\n  function onPointerUp(event, info) {\n    var _a, _b, _c, _d;\n    if (!checkPointerEnd()) return;\n    /**\n     * We only count this as a tap gesture if the event.target is the same\n     * as, or a child of, this component's element\n     */\n    !isNodeOrChild(visualElement.current, event.target) ? (_b = (_a = visualElement.getProps()).onTapCancel) === null || _b === void 0 ? void 0 : _b.call(_a, event, info) : (_d = (_c = visualElement.getProps()).onTap) === null || _d === void 0 ? void 0 : _d.call(_c, event, info);\n  }\n  function onPointerCancel(event, info) {\n    var _a, _b;\n    if (!checkPointerEnd()) return;\n    (_b = (_a = visualElement.getProps()).onTapCancel) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n  }\n  var startPress = useCallback(function (event, info) {\n    var _a;\n    removePointerEndListener();\n    if (isPressing.current) return;\n    isPressing.current = true;\n    cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp, eventOptions), addPointerEvent(window, \"pointercancel\", onPointerCancel, eventOptions));\n    var latestProps = visualElement.getProps();\n    /**\n     * Ensure we trigger animations before firing event callback\n     */\n    if (latestProps.whileTap && visualElement.animationState) {\n      visualElement.animationState.setActive(AnimationType.Tap, true);\n    }\n    (_a = latestProps.onTapStart) === null || _a === void 0 ? void 0 : _a.call(latestProps, event, info);\n  }, [Boolean(onTapStart), visualElement]);\n  usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? startPress : undefined, eventOptions);\n  useUnmountEffect(removePointerEndListener);\n}\nexport { useTapGesture };","map":{"version":3,"names":["useRef","useCallback","isNodeOrChild","addPointerEvent","usePointerEvent","useUnmountEffect","AnimationType","isDragActive","pipe","useTapGesture","_ref","onTap","onTapStart","onTapCancel","whileTap","visualElement","props","_objectWithoutProperties","_excluded","hasPressListeners","isPressing","cancelPointerEndListeners","eventOptions","passive","removePointerEndListener","current","checkPointerEnd","latestProps","getProps","animationState","setActive","Tap","onPointerUp","event","info","_a","_b","_c","_d","target","call","onPointerCancel","startPress","window","Boolean","undefined"],"sources":["C:/Users/ferre/OneDrive/Escritorio/portfolio-react/node_modules/framer-motion/dist/es/gestures/use-tap-gesture.mjs"],"sourcesContent":["import { useRef, useCallback } from 'react';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { addPointerEvent, usePointerEvent } from '../events/use-pointer-event.mjs';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.mjs';\nimport { AnimationType } from '../render/utils/types.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { pipe } from '../utils/pipe.mjs';\n\n/**\n * @param handlers -\n * @internal\n */\nfunction useTapGesture({ onTap, onTapStart, onTapCancel, whileTap, visualElement, ...props }) {\n    const hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n    const isPressing = useRef(false);\n    const cancelPointerEndListeners = useRef(null);\n    /**\n     * Only set listener to passive if there are no external listeners.\n     */\n    const eventOptions = {\n        passive: !(onTapStart ||\n            onTap ||\n            onTapCancel ||\n            props[\"onPointerDown\"]),\n    };\n    function removePointerEndListener() {\n        cancelPointerEndListeners.current && cancelPointerEndListeners.current();\n        cancelPointerEndListeners.current = null;\n    }\n    function checkPointerEnd() {\n        removePointerEndListener();\n        isPressing.current = false;\n        const latestProps = visualElement.getProps();\n        if (latestProps.whileTap && visualElement.animationState) {\n            visualElement.animationState.setActive(AnimationType.Tap, false);\n        }\n        return !isDragActive();\n    }\n    function onPointerUp(event, info) {\n        var _a, _b, _c, _d;\n        if (!checkPointerEnd())\n            return;\n        /**\n         * We only count this as a tap gesture if the event.target is the same\n         * as, or a child of, this component's element\n         */\n        !isNodeOrChild(visualElement.current, event.target)\n            ? (_b = (_a = visualElement.getProps()).onTapCancel) === null || _b === void 0 ? void 0 : _b.call(_a, event, info)\n            : (_d = (_c = visualElement.getProps()).onTap) === null || _d === void 0 ? void 0 : _d.call(_c, event, info);\n    }\n    function onPointerCancel(event, info) {\n        var _a, _b;\n        if (!checkPointerEnd())\n            return;\n        (_b = (_a = visualElement.getProps()).onTapCancel) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n    }\n    const startPress = useCallback((event, info) => {\n        var _a;\n        removePointerEndListener();\n        if (isPressing.current)\n            return;\n        isPressing.current = true;\n        cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp, eventOptions), addPointerEvent(window, \"pointercancel\", onPointerCancel, eventOptions));\n        const latestProps = visualElement.getProps();\n        /**\n         * Ensure we trigger animations before firing event callback\n         */\n        if (latestProps.whileTap && visualElement.animationState) {\n            visualElement.animationState.setActive(AnimationType.Tap, true);\n        }\n        (_a = latestProps.onTapStart) === null || _a === void 0 ? void 0 : _a.call(latestProps, event, info);\n    }, [Boolean(onTapStart), visualElement]);\n    usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? startPress : undefined, eventOptions);\n    useUnmountEffect(removePointerEndListener);\n}\n\nexport { useTapGesture };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}